<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comparison Tool - HTML Labelizer</title>
  <!-- Shared Styles -->
  <link rel="stylesheet" href="../shared/common.css">
  <link rel="stylesheet" href="../shared/header.css">
  <link rel="stylesheet" href="../shared/buttons.css">
  <link rel="stylesheet" href="../shared/cards.css">
  <link rel="stylesheet" href="../shared/drop-zone.css">
  <link rel="stylesheet" href="../shared/settings-modal.css">
  <link rel="stylesheet" href="../shared/statistics.css">
  <!-- Comparison-Specific Styles -->
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="../assets/favicon.png">
</head>
<body>
  <div class="app-header">
    <div class="brand">
      <a href="../index.html" class="logo-link">
        <img src="../assets/favicon.png" alt="HTML Labelizer" class="logo-img">
        <h1>HTML Labelizer IAA</h1>
      </a>
    </div>
    <div class="controls">
      <input type="file" id="html-file-input" accept=".html,.htm" multiple style="display:none">
      <button id="sync-scroll-toggle" class="sync-scroll-btn" disabled title="Synchronized Scrolling: OFF (Load both documents to enable)">
        <img src="../assets/icons-disconnect.png" alt="Sync" class="sync-icon" id="sync-icon">
      </button>
      <button id="comparison-view-toggle" class="comparison-view-btn" disabled title="Toggle Comparison View">⚏</button>
      <button id="iaa-analysis-btn" class="iaa-analysis-btn" disabled>IAA Analysis</button>
      <button id="clear-all">Clear All</button>
      <button id="settings-btn" class="settings-btn" title="Settings">⚙</button>
    </div>
  </div>

  <div class="comparison-layout">
    <div class="comparison-side">
      <div class="card">
        <div class="card-header">
          <div class="title">
            <h2>Document A</h2>
            <span class="filename" id="filename-a"></span>
          </div>
          <div class="header-controls">
            <button class="stats-btn" id="stats-btn-a" title="Show Statistics" disabled>
              <img src="../assets/icons-statistics.png" alt="Statistics" class="stats-icon">
            </button>
            <button class="upload-btn" id="upload-btn-a" title="Upload New File">
              <img src="../assets/icons-folder.png" alt="Upload" class="upload-icon">
            </button>
            <div class="nav-buttons">
              <button id="navigate-previous-a" class="nav-btn" title="Previous Label" disabled>▲</button>
              <button id="navigate-next-a" class="nav-btn" title="Next Label" disabled>▼</button>
            </div>
            <button class="view-toggle" id="view-toggle-a" disabled>View Source</button>
          </div>
        </div>
        <div class="card-body">
          <textarea class="source-view" id="source-view-a" readonly></textarea>
          <div class="html-content" id="html-content-a">
            <div class="empty-state drop-zone" id="drop-zone-a">
              <h3>No HTML loaded</h3>
              <p><a href="#" id="upload-link-a">Upload an HTML File</a> or drag & drop here to start comparing</p>
            </div>
          </div>
          <!-- IAA Overlay Container - sits above HTML content -->
          <div class="iaa-overlay-container" id="iaa-overlay-a"></div>
        </div>
        
        <!-- Statistics Overlay -->
        <div class="stats-overlay hidden" id="stats-overlay-a">
          <div class="stats-modal">
            <div class="stats-modal-header">
              <h3>Document A - Statistics</h3>
              <div class="stats-header-buttons">
                <button class="stats-download-btn" id="stats-download-a" title="Download Analysis">
                  <img src="../assets/icons-download.png" alt="Download" class="download-icon">
                </button>
                <button class="stats-close-btn" id="stats-close-a">×</button>
              </div>
            </div>
            <div class="stats-modal-body">
              <div class="stats-container" id="stats-content-a">
                <div class="stats-empty">
                  <p>Loading statistics...</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="comparison-side">
      <div class="card">
        <div class="card-header">
          <div class="title">
            <h2>Document B</h2>
            <span class="filename" id="filename-b"></span>
          </div>
          <div class="header-controls">
            <button class="stats-btn" id="stats-btn-b" title="Show Statistics" disabled>
              <img src="../assets/icons-statistics.png" alt="Statistics" class="stats-icon">
            </button>
            <button class="upload-btn" id="upload-btn-b" title="Upload New File">
              <img src="../assets/icons-folder.png" alt="Upload" class="upload-icon">
            </button>
            <div class="nav-buttons">
              <button id="navigate-previous-b" class="nav-btn" title="Previous Label" disabled>▲</button>
              <button id="navigate-next-b" class="nav-btn" title="Next Label" disabled>▼</button>
            </div>
            <button class="view-toggle" id="view-toggle-b" disabled>View Source</button>
          </div>
        </div>
        <div class="card-body">
          <textarea class="source-view" id="source-view-b" readonly></textarea>
          <div class="html-content" id="html-content-b">
            <div class="empty-state drop-zone" id="drop-zone-b">
              <h3>No HTML loaded</h3>
              <p><a href="#" id="upload-link-b">Upload an HTML File</a> or drag & drop here to start comparing</p>
            </div>
          </div>
          <!-- IAA Overlay Container - sits above HTML content -->
          <div class="iaa-overlay-container" id="iaa-overlay-b"></div>
        </div>
        
        <!-- Statistics Overlay -->
        <div class="stats-overlay hidden" id="stats-overlay-b">
          <div class="stats-modal">
            <div class="stats-modal-header">
              <h3>Document B - Statistics</h3>
              <div class="stats-header-buttons">
                <button class="stats-download-btn" id="stats-download-b" title="Download Analysis">
                  <img src="../assets/icons-download.png" alt="Download" class="download-icon">
                </button>
                <button class="stats-close-btn" id="stats-close-b">×</button>
              </div>
            </div>
            <div class="stats-modal-body">
              <div class="stats-container" id="stats-content-b">
                <div class="stats-empty">
                  <p>Loading statistics...</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- IAA Analysis Modal (Draggable & Resizable) -->
  <div class="analysis-modal hidden" id="analysis-modal">
    <div class="analysis-modal-header" id="analysis-modal-header">
      <h2>IAA Analysis</h2>
      <button class="analysis-close-btn" id="analysis-close-btn" title="Close">×</button>
    </div>
    <div class="analysis-modal-body">
      <div class="work-in-progress">
        <h3>Work in Progress</h3>
        <p>Analysis not ready yet.</p>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div class="settings-modal hidden" id="settings-modal">
    <div class="settings-overlay" id="settings-overlay"></div>
    <div class="settings-content">
      <div class="settings-header">
        <h3>Settings</h3>
        <button class="settings-close-btn" id="settings-close-btn">×</button>
      </div>
      <div class="settings-body">
        <div class="setting-group">
          <h4>Theme</h4>
          <div class="theme-toggle-container">
            <label class="theme-toggle">
              <input type="checkbox" id="theme-toggle" />
              <span class="theme-slider"></span>
              <span class="theme-labels">
                <span class="theme-label-dark"><img src="../assets/moon.png" alt="Moon" class="theme-icon"> Dark</span>
                <span class="theme-label-light"><img src="../assets/sun.png" alt="Sun" class="theme-icon"> Light</span>
              </span>
            </label>
          </div>
        </div>
        
        <div class="setting-group">
          <h4>Text Contrast</h4>
          <div class="contrast-container">
            <label for="contrast-slider">Adjust text visibility</label>
            <div class="slider-container">
              <span class="slider-label">High</span>
              <input type="range" id="contrast-slider" min="0" max="100" value="100" class="contrast-slider" />
              <span class="slider-label">Low</span>
            </div>
            <div class="contrast-preview" id="contrast-preview">
              Sample text preview
            </div>
          </div>
        </div>
        
        <div class="setting-group">
          <h4>Background Warmth</h4>
          <div class="background-container">
            <label for="background-slider">Adjust background tone</label>
            <div class="slider-container">
              <span class="slider-label">Cool</span>
              <input type="range" id="background-slider" min="0" max="100" value="50" class="background-slider" />
              <span class="slider-label">Warm</span>
            </div>
            <div class="background-preview" id="background-preview">
              Background preview
            </div>
          </div>
        </div>
        
        <div class="setting-group">
          <button id="reset-settings" class="reset-btn">Reset to Defaults</button>
        </div>
      </div>
    </div>
  </div>

  <script src="app-bundled.js"></script>
</body>
</html>
